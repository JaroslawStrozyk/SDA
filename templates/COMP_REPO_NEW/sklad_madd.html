{% extends "timber_dashboard.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block leftbutton %}
{% endblock %}


{% block retbutton %}
{% endblock %}

{% block userlog %}
{{ name_log }}
{% endblock %}


{% block title %}
{% endblock %}

{% block leftmenu %}
{% endblock %}


{% block content %}
       <style>
                    #id_koszt_przech_0, #id_stawka_0 {
                        width: 130px;
                        height: 34px;
                        text-align: right;
                        font-size: 14px;
                        border-radius: 4px;
                        border-width: 1px;
                        border: 1px solid #ccc;
                        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
                        color: #555;
                        background-color: #fff;
                    }
                    #id_koszt_przech_1, #id_stawka_1 {
                        width: 60px;
                        height: 34px;
                        font-size: 14px;
                        border-radius: 4px;
                    }

                    #id_stawka_1 {
                        pointer-events: none;  /* Zapobiega interakcji z elementem */
                        background-color: #e9ecef; /* Opcjonalne, zmienia kolor tła na jasnoszary */
                    }
<!--                    #id_kasa_pln, #id_kasa_euro, #id_kasa_funt, #id_kasa_dolar {-->
<!--                        width: 100%;-->
<!--                        text-align: right;-->
<!--                    }-->

<!--                    #id_data_od_day, #id_data_do_day {-->
<!--                        width: 60px;-->
<!--                    }-->
<!--                    #id_data_od_month, #id_data_do_month {-->
<!--                        width: 120px;-->
<!--                    }-->
<!--                    #id_data_od_year, #id_data_do_year {-->
<!--                        width: 80px;-->
<!--                    }-->
                   #okno {
                        box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 2px, rgba(0, 0, 0, 0.07) 0px 2px 4px, rgba(0, 0, 0, 0.07) 0px 4px 8px, rgba(0, 0, 0, 0.07) 0px 8px 16px, rgba(0, 0, 0, 0.07) 0px 16px 32px, rgba(0, 0, 0, 0.07) 0px 32px 64px;
                   }
                   #div_id_silnik_poj {
                        margin-top: 30px;
                        margin-bottom: 0px;
                   }

                   #id_przech_pow, #id_zwroco_ilosc, #id_wydano_ilosc {
                        text-align: center;
                   }
                   #id_przech_sze, #id_przech_wys, #id_przech_gl {
                        text-align: center;
                   }

                   #div_id_zwolnione > label {
                        margin-top:15px;
                   }

                   #div_id_multi_uzycie > label {
                        margin-top:15px;
                   }

                    #wrapper > nav > ul.nav.navbar-top-links.navbar-right > li.dropdown > a {
                        decoration: none;
                        background-color: #404040;
                        color: #fff;
                    }

                    #wrapper > nav > ul.nav.navbar-top-links.navbar-right > li.dropdown > a:hover {
                        decoration: none;
                        background-color: #404040;
                        color: #fff;
                    }
           #div_id_przech_zdjecie > label, #div_id_przech_zdjecie2 > label, #div_id_przech_zdjecie3 > label, #div_id_przech_zdjecie4 > label {
                    color: #186A3B;
           }

           #div_id_uszkodz_zdjecie1 > label, #div_id_uszkodz_zdjecie2 > label, #div_id_uszkodz_zdjecie3 > label, #div_id_uszkodz_zdjecie4 > label {
                    color: #7D6608;
           }

       </style>
        <br><br>
                <div class="col-lg-12"  style="height:100vh">
                    <div class="panel panel-green" id="okno">
                        <div class="panel-heading">
                            <font style="font-size:18px;"><strong>{{ title }}</strong></font>
                        </div>
                        <div class="panel-body" style="background-color: #f5f5f5;">
                            <form method="POST"  class="post-form" enctype="multipart/form-data">{% csrf_token %}
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.magazyn|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.nr_sde|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-6 mb-0">
                                                       <div class="alert alert-info" role="alert">
                                                           <p align="justify">Pole <strong>Stoisko</strong>
                                                               ma podwójne znaczenie. Jeśli nie zostanie zmienione - wyświetlone dane w aktualnej pozycji zostaną zmodyfikowane.
                                                               Jeżeli w tym polu zmienimy wpis to w bazie zostanie utworzony nowy rekord z nowym oznaczeniem Stoiska.
                                                               Jeśli jednocześnie z tym były modyfikacje inne pola - pojawią się tylko w nowym wpisie. Wpis źródłowy nie ulega zmianie.
                                                           </p>
                                                       </div>
                                                  </div>


                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.przech_nazwa|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                        {{ form.przech_nrpalet|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-1 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                        {{ form.faktura|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">

                                                  </div>
                                                  {% if admin %}
                                                      <div class="form-group col-md-2 mb-0">
                                                            {{ form.stawka|as_crispy_field }}
                                                      </div>
                                                  {% else %}
                                                      <div class="form-group col-md-2 mb-0" disabled>
                                                            {{ form.stawka|as_crispy_field }}
                                                      </div>
                                                  {% endif %}
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #D5F5E3;">
                                                        {{ form.przech_zdjecie|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #D5F5E3;">
                                                        {{ form.przech_zdjecie2|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #D5F5E3;">
                                                        {{ form.przech_zdjecie3|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #D5F5E3;">
                                                      {{ form.przech_zdjecie4|as_crispy_field }}
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #FCF3CF;">
                                                        {{ form.uszkodz_zdjecie1|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #FCF3CF;">
                                                        {{ form.uszkodz_zdjecie2|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #FCF3CF;">
                                                        {{ form.uszkodz_zdjecie3|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" style="background-color: #FCF3CF;">
                                                        {{ form.uszkodz_zdjecie4|as_crispy_field }}
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-2 mb-0">
                                                        {{ form.przech_sze|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                        {{ form.przech_gl|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="background-color: #D6EAF8;">
                                                      {{ form.zwolnione|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="background-color: #F6DDCC;">
                                                      {{ form.multi_uzycie|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="background-color: #F6DDCC;">
                                                      {{ form.firma|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-4 mb-0" hidden>
                                                      {{ form.multi_uzycie_id|as_crispy_field }}
                                                      {{ form.multi_uzycie_st|as_crispy_field }}
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="color:#ababab; text-align:center;margin-top: 10px;">
                                                      WYDANO
                                                  </div>
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.wydano_ilosc|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.wydano_data|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="color:#ababab; text-align:center;margin-top: 10px;">
                                                      ZWRÓCONO
                                                  </div>
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.zwroco_ilosc|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.zwroco_data|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                                  {{ form.zwroco_uwagi|as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" style="color:#ababab; text-align:center;margin-top: 10px;">
                                                      TERMIN
                                                  </div>
                                                  <div class="form-group col-md-5 mb-0">
                                                      <hr style="border-top: 1px solid #dddddd;">
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.czas_od|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                        {{ form.czas_do|as_crispy_field }}
                                                  </div>

                                            {% if admin %}
                                                    <div class="form-group col-md-3 mb-0 d-flex justify-content-center align-items-center"
                                                             style="border: 2px solid red; min-height: 60px;">
                                                        <div class="w-100 d-flex flex-column justify-content-center text-center" style="height: 100%;    margin-top: 20px;">
                                                            {{ form.do_skasowania|as_crispy_field }}
                                                        </div>
                                                    </div>
<!--                                                  <div class="form-group col-md-3 mb-0" style="background-color:red;">-->
<!--                                                      {{ form.do_skasowania|as_crispy_field }}-->
<!--                                                  </div>-->
                                            {% else %}
                                                  <div class="form-group col-md-3 mb-0">
                                                  </div>
                                            {% endif %}
                                        </div>


                        </div>
                        <div class="panel-footer">
                                        <table width="100%"><tr>
                                            <td align="right" width="50%"><button type="submit" class="save btn btn-success">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zapisz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>&nbsp;</td>

                                            <td align="left"><a href="{% url 'sklad_multi' mag=mag fl=fl %}" class="primary btn btn-danger"><font color="#ffffff">Anuluj</font></a></td>

                                            <td align="right" width="50px">
                                                {% if admin %}
                                                    <a href="#"  data-toggle="modal" data-target="#info1" class="primary btn btn-warning">
                                                                <font color="white"><i class="fa fa-trash-o fa-fw"></i></font>
                                                    </a>
                                                {% endif %}
                                            </td>

                                        </tr></table>

                        </div>
                    </div>
                    <br><br>
                </div>


    <div class="modal fade" id="info1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="modal-title   panel-green" id="exampleModalLongTitle1">Kasowanie...</span>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                            Czy jesteś pewien, że chcesz nieodwracalnie skasować bieżące dane?
                </div>
                <div class="modal-footer">
                    <a href="{% url 'ewu_delete' pk=pk fl=fl mag=mag %}" class="primary btn btn-danger">
                        <font color="white">&nbsp;&nbsp;TAK&nbsp;&nbsp;</font>
                    </a>
                    <button type="button" class="btn btn-success" data-dismiss="modal">&nbsp;&nbsp;NIE&nbsp;&nbsp;</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}

        $('#id_wydano_data').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_zwroco_data').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_czas_od').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_czas_do').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $(document).ready(function() {
              $('#id_nr_sde').select2();
        });

{% endblock %}

{% block about %}
                                 <tr><td class="text-right" width="300">
                                     <br>Wersja:
                                     <br>Ostatnia modyfikacja:<br>
                                     <br>Firma:
                                     <br>Autor:
                                     <br>Email:
                                     <br>Tel. kom.:<br>
                                     <br>
                                 </td><td>
                                     {% for ab in about %}
                                        <br>{{ ab.WERSJA }}
                                        <br>{{ ab.MODYFIKACJA }}
                                        <br>
                                        <br>{{ ab.FIRMA }}
                                        <br>{{ ab.AUTOR }}
                                     {% endfor %}
                                     <br><a href="mailto:biuro@edatabit.pl">biuro@edatabit.pl</a>
                                     <br>+48 791-648-417<br>
                                 </td></tr>
{% endblock %}
