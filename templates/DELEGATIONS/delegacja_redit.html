{% extends "del_dashboard.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block leftbutton %}
{% endblock %}


{% block retbutton %}
{% endblock %}

{% block userlog %}
{{ name_log }}
{% endblock %}


{% block title %}
{% endblock %}

{% block logo %}
                    <table width="100%" height="200" border="0"><tr><td align="center" valign="middle"><img src="{% static 'img/ico_twoje_konta1.png' %}" width="128"></td></tr></table>
{% endblock %}

{% block leftmenu %}
{% endblock %}


{% block style %}
                    #id_kasa_inna_0, #id_kasa_karta_0, #id_koszt_paliwo_kr_0, #id_koszt_paliwo_za_0 {
                        width: 130px;
                        height: 34px;
                        text-align: right;
                        font-size: 14px;
                        border-radius: 4px;
                        border-width: 1px;
                        border: 1px solid #ccc;
                        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
                        color: #555;
                        background-color: #fff;
                    }
                    #id_kasa_inna_1, #id_kasa_karta_1, #id_koszt_paliwo_kr_1, #id_koszt_paliwo_za_1 {
                        width: 60px;
                        height: 34px;
                        font-size: 14px;
                        border-radius: 4px;
                    }
                    #id_kasa_pln, #id_kasa_euro, #id_kasa_funt {
                        width: 130px;
                        text-align: right;
                    }

                    #id_data_od_day, #id_data_do_day {
                        width: 60px;
                    }
                    #id_data_od_month, #id_data_do_month {
                        width: 120px;
                    }
                    #id_data_od_year, #id_data_do_year {
                        width: 80px;
                    }
                   #okno {
                        box-shadow: rgba(0, 0, 0, 0.07) 0px 1px 2px, rgba(0, 0, 0, 0.07) 0px 2px 4px, rgba(0, 0, 0, 0.07) 0px 4px 8px, rgba(0, 0, 0, 0.07) 0px 8px 16px, rgba(0, 0, 0, 0.07) 0px 16px 32px, rgba(0, 0, 0, 0.07) 0px 32px 64px;
                   }
                   output {
                        font-size:18px;
                   }
                   #div_id_silnik_poj {
                        margin-top: 30px;
                        margin-bottom: 0px;
                   }

                   #id_dc_rozpo, #id_dc_zakon {
                        background-color: #dfffdf;
                        text-align: center;
                   }
                   #id_przekr_gran, #id_powrot_kraj {
                        background-color: #bfdfbf;
                        text-align: center;
                   }
                   #id_data_rozl, #id_data_pobr_zal, #id_sniadanie, #id_obiad, #id_kolacja, #id_numer {
                        text-align: center;
                   }
                   #div_id_przekr_gran > label, #div_id_powrot_kraj > label {
                        color: brown;
                   }


{% endblock %}

{% block content %}
       <style>

       </style>
        <br><br>
                <div class="col-lg-12"  style="height:100vh">
                    <div class="panel panel-green" id="okno">
                        <div class="panel-heading">
                            <font style="font-size:18px;">Edycja rozliczenia delegacji.</font>
                        </div>
                        <div class="panel-body" style="background-color: #f5f5f5;">
                            <form method="POST"  class="post-form">{% csrf_token %}
                                        <div class="form-row">
                                            <div class="form-group col-md-8 mb-0">
                                                <table width="100%">
                                                    <tr>
                                                        <td width="25%">
                                                            <strong>Imię i Nazwisko:</strong> <output>{{ iin }}</output>
                                                        </td>
                                                        <td width="25%">
                                                            <strong>Targi:</strong> <output>{{ targi }}</output>
                                                        </td>
                                                        <td width="25%">
                                                            <strong>Kraj docelowy:</strong> <output>{{ ltargi }}</output>
                                                        </td>
                                                        <td width="25%">
                                                            <strong>Numer dokumentu:</strong> <output>{{ num_dok }}</output>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <div class="form-group col-md-2 mb-0">
                                                   {{ form.data_pobr_zal|as_crispy_field }}
                                            </div>
                                            <div class="form-group col-md-2 mb-0">
                                                   {{ form.data_rozl|as_crispy_field }}
                                            </div>
                                        </div>
<!--                                        <div class="form-row">-->
<!--                                            <div class="form-group col-md-12 mb-0">-->
<!--                                            </div>-->
<!--                                        </div>-->

                                        <div class="form-row">
                                                  <div class="form-group col-md-3 mb-0">
                                                      {{ form.dc_rozpo|as_crispy_field }}
                                                  </div>

                                                  <div class="form-group col-md-3 mb-0" {% if not lt %}hidden{% endif %}>
                                                         {{ form.przekr_gran|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0" {% if not lt %}hidden{% endif %}>
                                                         {{ form.powrot_kraj|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-3 mb-0">
                                                      {{ form.dc_zakon|as_crispy_field }}
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">

                                                    <div class="form-group col-md-3 mb-0">
                                                          {{ form.transport|as_crispy_field }}
                                                    </div>
                                                    <div id="myDIV">
                                                        <div class="form-group col-md-3 mb-0">
                                                            {{ form.dane_auta|as_crispy_field }}
                                                        </div>
                                                        <div class="form-group col-md-2 mb-0">
                                                        </div>
                                                          <div class="form-group col-md-4 mb-0">

                                                          </div>

                                                    </div>

                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-2 mb-0">
                                                      {{ form.sniadanie|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                      {{ form.obiad|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                      {{ form.kolacja|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0">
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" hidden>
                                                       {{ form.nocleg_ilosc_kr|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-2 mb-0" hidden>
                                                       {{ form.nocleg_ilosc_za|as_crispy_field }}
                                                  </div>

                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                                <hr>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                                  <div class="form-group col-md-6 mb-0">
                                                      {{ form.kod_sde_targi1|as_crispy_field }}
                                                  </div>
                                                  <div class="form-group col-md-6 mb-0">
                                                      {{ form.kod_sde_targi2|as_crispy_field }}
                                                  </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12 mb-0">
                                                {{ error }}
                                            </div>
                                        </div>


                        </div>
                        <div class="panel-footer">
                                        <table width="100%"><tr>
                                            <td align="right" width="50%"><button type="submit" class="save btn btn-success">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zapisz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>&nbsp;</td>
                                            <td align="left"><a href="{% url 'delegacja_rz' pk=pk %}" class="primary btn btn-danger"><font color="#ffffff">Anuluj</font></a></td>
                                        </tr></table>

                        </div>
                    </div>
                </div>
{% endblock %}


{% block script %}

        $(document).ready(function() {
              $('#id_transport').select2({
                  templateSelection: function (data, container) {
                    $(data.element).attr('data-custom-attribute', data.customValue);

                    var x = document.getElementById("myDIV");
                    if(data.text === 'SAMOCHÓD FIRMOWY'){
                       x.style.display = "block";
                    } else {
                       x.style.display = "none";
                    }
                    return data.text;
                  }
              });

              $('#id_lok_targi').select2();
        });


        $('#id_data_rozl').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_data_pobr_zal').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_data_od').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_data_do').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_dataz').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy',
              todayBtn:  1,
              autoclose: 1,
              minView: 2,
              startDate: "2009-01-01",
        });

        $('#id_dc_rozpo').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy HH:ii:ss',
              todayBtn:  1,
              autoclose: 1,
              startDate: "2009-01-01",
        });

        $('#id_dc_zakon').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy HH:ii:ss',
              todayBtn:  1,
              autoclose: 1,
              startDate: "2009-01-01",
        });

        $('#id_przekr_gran').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy HH:ii:ss',
              todayBtn:  1,
              autoclose: 1,
              startDate: "2009-01-01",
        });

        $('#id_powrot_kraj').datetimepicker({
              language:  'pl',
              format: 'dd.mm.yyyy HH:ii:ss',
              todayBtn:  1,
              autoclose: 1,
              startDate: "2009-01-01",
        });


        $(document).ready(function() {
              $('#id_kod_sde_targi1').select2();
              $('#id_kod_sde_targi2').select2();
        });


{% endblock %}



{% block about %}
                                 <tr><td class="text-right" width="300">
                                     <br>Wersja:
                                     <br>Ostatnia modyfikacja:<br>
                                     <br>Firma:
                                     <br>Autor:
                                     <br>Email:
                                     <br>Tel. kom.:<br>
                                     <br>
                                 </td><td>
                                     {% for ab in about %}
                                        <br>{{ ab.WERSJA }}
                                        <br>{{ ab.MODYFIKACJA }}
                                        <br>
                                        <br>{{ ab.FIRMA }}
                                        <br>{{ ab.AUTOR }}
                                     {% endfor %}
                                     <br><a href="mailto:biuro@edatabit.pl">biuro@edatabit.pl</a>
                                     <br>+48 791-648-417<br>
                                 </td></tr>
{% endblock %}
